<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Perfil</title>

    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js/dist/umd/supabase.min.js"></script>
</head>

<body>
    <main class="page-center">
        <div class="card container profile-card">
            <header class="profile-header">
                <h1>Mi perfil</h1>
                <button id="logoutBtn" class="btn btn-danger">Cerrar sesión</button>
            </header>

            <div class="profile-body">
                <div class="avatar-column">
                    <img id="avatarImg" src="https://via.placeholder.com/150" alt="Avatar" class="avatar">
                    <div id="previewWrap" class="preview-wrap" style="display:none;">
                        <small>Preview:</small>
                        <img id="previewImg" src="" alt="Preview" class="avatar preview">
                    </div>
                </div>

                <div class="info-column">
                    <p><strong>Email:</strong> <span id="userEmail">—</span></p>
                    <p><strong>Nombre:</strong></p>
                    <input id="userNameInput" type="text" placeholder="Tu nombre">

                    <label for="avatarInput" class="file-label">Subir avatar</label>
                    <input id="avatarInput" type="file" accept="image/*" style="display:none;">

                    <button id="uploadBtn" class="btn">Subir avatar</button>
                    <button id="saveNameBtn" class="btn btn-ghost">Guardar nombre</button>
                </div>
            </div>

            <div id="msgBox" class="msgBox"></div>
        </div>
    </main>

    <script src="profile.js"></script>
</body>

</html>